<html>

<script>
function getUI()
{
   var xhr;
   var params = "0";
   xhr = new XMLHttpRequest();
   xhr.onreadystatechange = handleStateChange;
   xhr.open("POST", '/refresh/', true);
   xhr.setRequestHeader("Content-type", "application/x-www-form-urlencoded");
   xhr.setRequestHeader("Content-length", params.length);
   xhr.setRequestHeader("Connection", "close");
   xhr.send(params);
   function handleStateChange() {
       if (xhr.readyState == 4 &&  xhr.status == 200) {
           var element = document.getElementById('textblock');
           element.innerHTML = xhr.responseText;
       }
   }
}

function scanNetwork()
{
   var xhr;
   var params = "0";
   xhr = new XMLHttpRequest();
   xhr.onreadystatechange = handleStateChange;
   xhr.open("POST", '/scannetwork/', true);
   xhr.setRequestHeader("Content-type", "application/x-www-form-urlencoded");
   xhr.setRequestHeader("Content-length", params.length);
   xhr.setRequestHeader("Connection", "close");
   xhr.send(params);
   function handleStateChange() {
       if (xhr.readyState == 4 &&  xhr.status == 200) {
//           var element = document.getElementById('textblock');
//           element.innerHTML = xhr.responseText;
       }
   }
}

function getNode(id, name)
{
    var form = document.createElement("form");
    form.setAttribute("method", "post");
    form.setAttribute("action", '/displaynode/');

    var hf = document.createElement("input");
    hf.setAttribute("type", "hidden");
    hf.setAttribute("name", "address");
    hf.setAttribute("value", id);
    form.appendChild(hf);

    hf = document.createElement("input");
    hf.setAttribute("type", "hidden");
    hf.setAttribute("name", "name");
    hf.setAttribute("value", name);
    form.appendChild(hf);

    document.body.appendChild(form);
    form.submit();
}

function setHome()
{
   window.location.assign = "/";
}

</script>
<style>

a.menu_links {
    cursor: pointer;
}

rect { cursor: pointer; }
text { cursor: pointer; }

.button {
  font-size: 14px;
  height:40px;
  border-radius: 8px;
}

</style>

<body>

<div style="margin-top:20px;margin-left:10px;margin-bottom:20px;border:2 px solid black;">
   <button type="button" class="button" onclick="scanNetwork();">Scan</button>
</div>

        <div id="textblock" style="margin: 0 auto;">
            &nbsp;
        </div>

</body>

<script>
window.onload = getUI();
window.setInterval(getUI, 2000);
</script>

</html>
